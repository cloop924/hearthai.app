<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>HearThai – Master Thai with 5 Core Learning Modes</title>
  <meta name="description" content="The complete Thai learning system. Master Vocab, Phrases, Grammar, Writing, and Speaking with premiere audio and formulas." />

  <meta property="og:title" content="HearThai – Learn Thai the Way You Actually Use It" />
  <meta property="og:description" content="5 Modes to Fluency: Vocab, Phrases, Grammar, Writing, and Speaking. No robotic audio, just real results." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://learn.hearthai.app" />
  <meta property="og:image" content="https://learn.hearthai.app/media/share-image-placeholder.png" />

  <link rel="stylesheet" href="assets/css/styles.css" />
</head>

<body>
  <div class="page-wrap">

    <header>
      <div class="logo-lockup">
        <img src="media/button.png" class="logo-mark" alt="HearThai Logo" />
        <div>
          <div class="logo-text-main">HearThai</div>
          <div class="logo-text-sub">The complete Thai learning system</div>
        </div>
      </div>

      <nav>
        <a href="#how-it-works">The Method</a>
        <a href="#vocab">Vocab & Phrases</a>
        <a href="#grammar-system">Grammar</a>
        <a href="#speaking">Speaking</a>
      </nav>
    </header>

    <main>
      <div id="module-hero"></div>
      <div id="module-method"></div>
      <div id="module-vocab"></div>
      <div id="module-grammar"></div>
      <div id="module-writing"></div>
      <div id="module-speaking"></div>
      <div id="module-details"></div>
    </main>

    <footer>
      HearThai &copy; <span id="year"></span>. All rights reserved.
    </footer>
  </div>

  <script>
    async function loadModule(elementId, filePath) {
      try {
        const response = await fetch(filePath);
        if (!response.ok) throw new Error(`Could not load ${filePath}`);
        const html = await response.text();
        document.getElementById(elementId).innerHTML = html;
      } catch (error) {
        console.error("Error loading module:", error);
      }
    }

    async function initPage() {
      // Load all modules
      await Promise.all([
        loadModule('module-hero', 'modules/hero.html'),
        loadModule('module-method', 'modules/method.html'),
        loadModule('module-vocab', 'modules/vocab.html'),
        loadModule('module-grammar', 'modules/grammar.html'),
        loadModule('module-writing', 'modules/writing.html'),
        loadModule('module-speaking', 'modules/speaking.html'),
        loadModule('module-details', 'modules/details.html')
      ]);

      // Set Year
      const yearSpan = document.getElementById('year');
      if(yearSpan) yearSpan.textContent = new Date().getFullYear();

      // Initialize Video Observer
      const videos = document.querySelectorAll("video.scroll-audio");
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.muted = false;
            entry.target.play();
          } else {
            entry.target.pause();
            entry.target.muted = true;
          }
        });
      }, { threshold: 0.45 });
      videos.forEach(v => observer.observe(v));
    }

    document.addEventListener("DOMContentLoaded", initPage);
  </script>

  <script src="assets/js/main.js"></script>
</body>
</html>